# Telegram Study Bot

Бот для управления учебным процессом: расписание, домашние задания, заметки и напоминания.

## Что умеет бот

- **Расписание** — добавление и просмотр занятий по дням недели
- **Домашние задания** — отслеживание ДЗ с дедлайнами, фильтрация по предметам
- **Заметки** — создание и поиск заметок
- **Напоминания** — автоматические напоминания о парах и дедлайнах
- **Прогресс** — статистика выполнения заданий
- **Настройки** — выбор языка, темы, времени напоминаний

## Установка

### Требования

- Python 3.8 или новее
- Аккаунт Supabase
- Токен Telegram бота

### Шаги установки

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd telegram-study-bot
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корне проекта:
```env
BOT_TOKEN=ваш_токен_бота
SUPABASE_URL=https://loqnpglprsdrnilxxjgj.supabase.co
SUPABASE_KEY=ваш_supabase_key
```

4. Настройте базу данных в Supabase:
   - Откройте SQL Editor в проекте Supabase
   - Выполните SQL из `migrations/001_initial_schema.sql`
   - Настройте политики доступа (см. `SUPABASE_SETUP.md`)

5. Запустите бота:
```bash
python main.py
```

## Получение токена бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям
4. Скопируйте полученный токен в `.env`

## Структура проекта

```
telegram-study-bot/
├── main.py              # Точка входа
├── config.py            # Настройки
├── requirements.txt     # Зависимости
│
├── bot/
│   ├── handlers/       # Обработчики команд
│   ├── keyboards/      # Клавиатуры
│   ├── states/         # FSM состояния
│   ├── database/       # Работа с БД
│   └── utils/          # Утилиты
│
└── migrations/         # SQL миграции
```

## Использование

После запуска отправьте боту `/start` в Telegram. Доступны команды:

- `/start` — главное меню
- Расписание — управление расписанием занятий
- Домашние задания — работа с ДЗ
- Заметки — создание и поиск заметок
- Напоминания — настройка напоминаний
- Прогресс — статистика
- Настройки — настройки бота

## Форматы данных

- **Время**: `HH:MM` (например, `09:30`)
- **Дата**: `DD.MM.YY` или `DD.MM.YYYY` (например, `25.12.24`)

## Логи

Логи сохраняются в `data/logs/bot_YYYYMMDD.log`

## Разработка

Для добавления нового функционала:

1. Создайте обработчик в `bot/handlers/`
2. Добавьте состояния в `bot/states/` (если нужен FSM)
3. Создайте клавиатуры в `bot/keyboards/`
4. Зарегистрируйте роутер в `main.py`

## Технологии

- Python 3.8+
- aiogram 3.x — фреймворк для Telegram ботов
- Supabase — облачная база данных
- apscheduler — планировщик задач

## Лицензия

Проект создан в образовательных целях.
